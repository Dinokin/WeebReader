@inject ParametersManager ParametersManager
@model (Title title, Chapter chapter)

@{
    ViewData["Title"] = $"{Labels.Chapter} {Model.chapter.Number} - {Model.title.Name}";
    ViewData["DarkMode"] = (string) ViewData["BodyClass"] != Constants.LightModeClasses;
    var siteName = await ParametersManager.GetValue<string>(Parameter.Types.SiteName);
}

@section Headers
{
    <meta property="og:title" content="@(Model.chapter.Volume != null && Model.chapter.Volume > 0 ? $"{Labels.Vol}{Model.chapter.Volume} " : null)@Labels.Chapter @Model.chapter.Number - @Model.title.Name"/>
    <meta property="og:url" content="@Url.Action("ReadChapter", "Home", new { chapterId = Model.chapter.Id }, Context.Request.Scheme)"/>
    <meta property="og:image" content="@($"{Context.Request.Scheme}://{Context.Request.Host}/content/{Model.title.Id}/cover_thumb.jpg?v={Model.title.Version}")"/>
    <meta property="og:description" content="@Model.title.Synopsis.RemoveHtmlTags()"/>
    <meta property="og:site_name" content="@siteName"/>
}

<partial name="Partials/NSFWWarning"/>