@inject ParametersManager ParametersManager

@{
    var googleAnalyticsEnabled = await ParametersManager.GetValue<bool>(Parameter.Types.SiteGoogleAnalyticsEnabled);
    var googleAnalyticsTrackingCode = string.Empty;

    if (googleAnalyticsEnabled)
    {
        googleAnalyticsTrackingCode = await ParametersManager.GetValue<string>(Parameter.Types.SiteGoogleAnalyticsCode);
    }
}

@if (googleAnalyticsEnabled)
{
    <script>
    var googleAnalyticsTrackingCode = "@googleAnalyticsTrackingCode";
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=@googleAnalyticsTrackingCode"></script>
    <script src="~/libs/weebreader.1.0.1/google-analytics.js"></script>
}